<!doctype html>
<html>
<head>
  <style type="text/css">
    input{
      height: 20px; border: 1px solid #ddd;
    }
  </style>
</head>
<body>

  <input type="text"/>

  <!--<script>
      //降域方法
    document.querySelector("input").addEventListener("input",function(){
        window.parent.document.querySelector("input").value=this.value;
    });
    document.domain="jrg.com";
  </script>-->


  <script>
    document.querySelector("input").addEventListener("input",function(){
        console.log(this.value);
        window.parent.postMessage(this.value,"http://a.jrg.com:8080/a.html");          //向a.jrg.com:8080/b.html发送数据
    });
    window.addEventListener("message",function(e){                //监听事件，当事件发生时接收数据
        document.querySelector("input").value=e.data;
        console.log(e.data);
    })
  </script>
</body>
</html>
